"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function a(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(){var a=function(){function a(b){var d,e,f,c=this;_classCallCheck(this,a),d={logo:"OwO表情",container:document.getElementsByClassName("OwO")[0],target:document.getElementsByTagName("textarea")[0],position:"down",width:"100%",maxHeight:"250px",api:"https://api.anotherhome.net/OwO/OwO.json"};for(e in d)d.hasOwnProperty(e)&&!b.hasOwnProperty(e)&&(b[e]=d[e]);this.container=b.container,this.target=b.target,"up"===b.position&&this.container.classList.add("OwO-up"),f=new XMLHttpRequest,f.onreadystatechange=function(){4===f.readyState&&(f.status>=200&&f.status<300||304===f.status?(c.odata=JSON.parse(f.responseText),c.init(b)):console.log("OwO data request was unsuccessful: "+f.status))},f.open("get",b.api,!0),f.send(null)}return _createClass(a,[{key:"init",value:function(a){var c,d,e,f,g,h,i,b=this;for(this.area=a.target,this.packages=Object.keys(this.odata),c='\n            <div class="OwO-logo"><span>'+a.logo+'</span></div>\n            <div class="OwO-body" style="width: '+a.width+'">',d=0;d<this.packages.length;d++)if(0==d){for(c+='\n                <ul class="OwO-items OwO-items-'+this.odata[this.packages[d]].type+'" style="max-height: '+(parseInt(a.maxHeight)-53+"px")+';">',e=this.odata[this.packages[d]].container,f=0;f<e.length;f++)c+='\n                    <li class="OwO-item" title="'+e[f].text+"\" data-OwO='"+e[f].icon+"'>"+e[f].icon+"</li>";c+="\n                </ul>"}else if(1==d){for(c+='\n                <ul class="OwO-items OwO-items-'+this.odata[this.packages[d]].type+'" style="max-height: '+(parseInt(a.maxHeight)-53+"px")+';">',e=this.odata[this.packages[d]].container,f=0;f<e.length;f++)c+='\n                    <li class="OwO-item" title="'+e[f].text+'" data-OwO="@('+e[f].text+')">'+e[f].icon+"</li>";c+="\n                </ul>"}else{for(c+='\n                <ul class="OwO-items OwO-items-'+this.odata[this.packages[d]].type+'" style="max-height: '+(parseInt(a.maxHeight)-53+"px")+';">',e=this.odata[this.packages[d]].container,f=0;f<e.length;f++)c+='\n                    <li class="OwO-item" title="'+e[f].text+'" data-OwO="@['+e[f].text+']">'+e[f].icon+"</li>";c+="\n                </ul>"}for(c+='\n                <div class="OwO-bar">\n                    <ul class="OwO-packages">',g=0;g<this.packages.length;g++)c+="\n                        <li><span>"+this.packages[g]+"</span></li>";for(c+="\n                    </ul>\n                </div>\n            </div>\n            ",this.container.innerHTML=c,this.logo=this.container.getElementsByClassName("OwO-logo")[0],this.logo.addEventListener("click",function(){b.toggle()}),this.container.getElementsByClassName("OwO-body")[0].addEventListener("click",function(a){var d,e,c=null;a.target.classList.contains("OwO-item")?c=a.target:a.target.parentNode.classList.contains("OwO-item")&&(c=a.target.parentNode),c&&(d=b.area.selectionEnd,e=b.area.value,b.area.value=e.slice(0,d)+c.getAttribute("data-OwO")+e.slice(d),b.area.focus(),b.toggle())}),this.packagesEle=this.container.getElementsByClassName("OwO-packages")[0],h=function(a){!function(c){b.packagesEle.children[a].addEventListener("click",function(){b.tab(c)})}(a)},i=0;i<this.packagesEle.children.length;i++)h(i);this.tab(0)}},{key:"toggle",value:function(){this.container.classList.contains("OwO-open")?this.container.classList.remove("OwO-open"):this.container.classList.add("OwO-open")}},{key:"tab",value:function(a){var c,b=this.container.getElementsByClassName("OwO-items-show")[0];b&&b.classList.remove("OwO-items-show"),this.container.getElementsByClassName("OwO-items")[a].classList.add("OwO-items-show"),c=this.container.getElementsByClassName("OwO-package-active")[0],c&&c.classList.remove("OwO-package-active"),this.packagesEle.getElementsByTagName("li")[a].classList.add("OwO-package-active")}}]),a}();"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=a:window.OwO=a}();
//# sourceMappingURL=OwO.min.js.map
